(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{IcGc:function(e,n,t){e.exports=t.p+"static/minheap.fe2875a2.png"},JjdP:function(e,n,t){"use strict";t.r(n);var r=t("HaE+"),a=t("o0o1"),l=t.n(a),c=t("LtsZ");n["default"]={"dfs-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(r["a"])(l.a.mark((function e(){var n,r,a,c,o,u,i,s,d;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t("TqRt"),e.t0=r,e.next=4,t.e(5).then(t.bind(null,"1OyB"));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=r,e.next=9,t.e(6).then(t.bind(null,"vuIU"));case 9:return e.t3=e.sent,c=(0,e.t2)(e.t3),e.t4=r,e.next=14,t.e(7).then(t.bind(null,"Ji7U"));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=r,e.next=19,t.e(4).then(t.bind(null,"LK+K"));case 19:return e.t7=e.sent,u=(0,e.t6)(e.t7),i=function(e){(0,o["default"])(r,e);var t=(0,u["default"])(r);function r(){return(0,a["default"])(this,r),t.apply(this,arguments)}return(0,c["default"])(r,[{key:"render",value:function(){return n.createElement("div",{className:"app"},n.createElement("header",null,"header"),n.createElement(s,null),n.createElement("footer",null,"footer"))}}]),r}(n.Component),s=function(e){(0,o["default"])(r,e);var t=(0,u["default"])(r);function r(){return(0,a["default"])(this,r),t.apply(this,arguments)}return(0,c["default"])(r,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("p",null,"1"),n.createElement("p",null,"2"),n.createElement("p",null,"3"))}}]),r}(n.Component),d=i,e.abrupt("return",d);case 25:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{jsx:'class App extends React.Component {\n  render() {\n    return (\n      <div className="app">\n        <header>header</header>\n        <Content />\n        <footer>footer</footer>\n      </div>\n    );\n  }\n}\n\nclass Content extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <p>1</p>\n        <p>2</p>\n        <p>3</p>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;'}},dependencies:{},identifier:"dfs-demo"}},"01-setstate-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(r["a"])(l.a.mark((function e(){var n,r,a,c,o,u,i;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("TqRt"),e.t0=n,e.next=4,t.e(5).then(t.bind(null,"1OyB"));case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.t2=n,e.next=9,t.e(6).then(t.bind(null,"vuIU"));case 9:return e.t3=e.sent,a=(0,e.t2)(e.t3),e.t4=n,e.next=14,t.e(7).then(t.bind(null,"Ji7U"));case 14:return e.t5=e.sent,c=(0,e.t4)(e.t5),e.t6=n,e.next=19,t.e(4).then(t.bind(null,"LK+K"));case 19:return e.t7=e.sent,o=(0,e.t6)(e.t7),e.t8=n,e.next=24,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 24:return e.t9=e.sent,u=(0,e.t8)(e.t9),i=function(e){(0,c["default"])(t,e);var n=(0,o["default"])(t);function t(){var e;(0,r["default"])(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=n.call.apply(n,[this].concat(l)),e.state={count:0},e.changeState=function(){var n=e.state.count+1;e.setState({count:e.state.count+1}),n===e.state.count?console.log("\u540c\u6b65\u6267\u884crender"):console.log("\u5f02\u6b65\u6267\u884crender")},e.changeState2=function(){var n=e.state.count+1;Promise.resolve().then((function(){e.setState({count:e.state.count+1}),n===e.state.count?console.log("\u540c\u6b65\u6267\u884crender"):console.log("\u5f02\u6b65\u6267\u884crender")}))},e}return(0,a["default"])(t,[{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("p",null,"\u5f53\u524dcount=",this.state.count),u["default"].createElement("button",{onClick:this.changeState},"\u5f02\u6b65+1"),u["default"].createElement("button",{onClick:this.changeState2},"\u540c\u6b65+1"))}}]),t}(u["default"].Component),e.abrupt("return",i);case 28:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{jsx:"import React from 'react';\n\nexport default class App extends React.Component {\n  state = {\n    count: 0,\n  };\n\n  changeState = () => {\n    const newCount = this.state.count + 1;\n    this.setState({\n      count: this.state.count + 1,\n    });\n    if (newCount === this.state.count) {\n      console.log('\u540c\u6b65\u6267\u884crender');\n    } else {\n      console.log('\u5f02\u6b65\u6267\u884crender');\n    }\n  };\n\n  changeState2 = () => {\n    const newCount = this.state.count + 1;\n    Promise.resolve().then(() => {\n      this.setState({\n        count: this.state.count + 1,\n      });\n      if (newCount === this.state.count) {\n        console.log('\u540c\u6b65\u6267\u884crender');\n      } else {\n        console.log('\u5f02\u6b65\u6267\u884crender');\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <p>\u5f53\u524dcount={this.state.count}</p>\n        <button onClick={this.changeState}>\u5f02\u6b65+1</button>\n        <button onClick={this.changeState2}>\u540c\u6b65+1</button>\n      </div>\n    );\n  }\n}"}},dependencies:{react:{version:"17.0.2"}},identifier:"01-setstate-demo"}},"hook-state-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(r["a"])(l.a.mark((function e(){var n,r,a,c,o,u;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=function(){var e=(0,a.useState)(0),n=(0,r["default"])(e,2),t=n[0],l=n[1];return a["default"].createElement("button",{onClick:function(){l(1),l(3),l(2)}},t)},o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r["default"]=e,t&&t.set(e,r),r},c=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:n})(e)},n=t("TqRt"),e.t0=n,e.next=7,t.e(3).then(t.bind(null,"ODXe"));case 7:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.t2=o,e.next=12,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 12:return e.t3=e.sent,a=(0,e.t2)(e.t3),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{jsx:"import React, { useState } from 'react';\nexport default function App() {\n  const [count, dispatch] = useState(0);\n  return (\n    <button\n      onClick={() => {\n        dispatch(1);\n        dispatch(3);\n        dispatch(2);\n      }}\n    >\n      {count}\n    </button>\n  );\n}"}},dependencies:{react:{version:"17.0.2"}},identifier:"hook-state-demo"}},"hook-summary-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(r["a"])(l.a.mark((function e(){var n,r,a,c,o,u;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=function(){var e=(0,a.useState)(1),n=(0,r["default"])(e,2),t=n[0],l=n[1];(0,a.useEffect)((function(){console.log("effect 1 created")}));var c=(0,a.useState)(2),o=(0,r["default"])(c,1),u=o[0];return(0,a.useEffect)((function(){console.log("effect 2 created")})),a["default"].createElement(a["default"].Fragment,null,a["default"].createElement("button",{onClick:function(){return l(t+1)}},t),a["default"].createElement("button",null,u))},o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r["default"]=e,t&&t.set(e,r),r},c=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:n})(e)},n=t("TqRt"),e.t0=n,e.next=7,t.e(3).then(t.bind(null,"ODXe"));case 7:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.t2=o,e.next=12,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 12:return e.t3=e.sent,a=(0,e.t2)(e.t3),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{jsx:"import React, { useState, useEffect } from 'react';\nexport default function App() {\n  // 1. useState\n  const [a, setA] = useState(1);\n  // 2. useEffect\n  useEffect(() => {\n    console.log(`effect 1 created`);\n  });\n  // 3. useState\n  const [b] = useState(2);\n  // 4. useEffect\n  useEffect(() => {\n    console.log(`effect 2 created`);\n  });\n  return (\n    <>\n      <button onClick={() => setA(a + 1)}>{a}</button>\n      <button>{b}</button>\n    </>\n  );\n}"}},dependencies:{react:{version:"17.0.2"}},identifier:"hook-summary-demo"}},"hook-demo":{component:Object(c["dynamic"])({loader:function(){var e=Object(r["a"])(l.a.mark((function e(){var n,r,a,c,o,u,i;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=function(){Promise.resolve().then((function(){console.log("\u6240\u6709\u7684effect.create\u90fd\u662f\u901a\u8fc7\u8c03\u5ea6\u5668(scheduler)\u5f02\u6b65(MessageChannel)\u6267\u884c\u7684, \u6545effect.create\u51fd\u6570\u5fc5\u7136\u5728\u6b64\u4e4b\u540e\u6267\u884c")}));var e=(0,a.useState)(0),n=(0,r["default"])(e,2),t=n[0],l=n[1];return(0,a.useEffect)((function(){return console.log("\u7b2c1\u4e2aeffect.create dps: []"),function(){console.log("\u7b2c1\u4e2aeffect.destory")}}),[]),(0,a.useEffect)((function(){return console.log("effect.create dps: [count]",t),function(){console.log("\u7b2c2\u4e2aeffect.destory dps: [count]",t)}}),[t]),a["default"].createElement(a["default"].Fragment,null,a["default"].createElement("p",null,"You clicked ",t," times"),a["default"].createElement("button",{onClick:function(){return l(t+1)}},"Click me"))},o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r["default"]=e,t&&t.set(e,r),r},c=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:n})(e)},n=t("TqRt"),e.t0=n,e.next=7,t.e(3).then(t.bind(null,"ODXe"));case 7:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.t2=o,e.next=12,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 12:return e.t3=e.sent,a=(0,e.t2)(e.t3),i=u,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{jsx:"import React, { useState, useEffect } from 'react';\nfunction Example() {\n  Promise.resolve().then(() => {\n    console.log(\n      '\u6240\u6709\u7684effect.create\u90fd\u662f\u901a\u8fc7\u8c03\u5ea6\u5668(scheduler)\u5f02\u6b65(MessageChannel)\u6267\u884c\u7684, \u6545effect.create\u51fd\u6570\u5fc5\u7136\u5728\u6b64\u4e4b\u540e\u6267\u884c',\n    );\n  });\n  // \u7b2c1\u4e2ahook(useState)\n  const [count, setCount] = useState(0);\n  // \u7b2c2\u4e2ahook(useEffect)\n  useEffect(() => {\n    console.log('\u7b2c1\u4e2aeffect.create dps: []');\n    return () => {\n      console.log('\u7b2c1\u4e2aeffect.destory');\n    };\n  }, []);\n  // \u7b2c3\u4e2ahook(useEffect)\n  useEffect(() => {\n    console.log('effect.create dps: [count]', count);\n    return () => {\n      console.log('\u7b2c2\u4e2aeffect.destory dps: [count]', count);\n    };\n  }, [count]);\n  return (\n    <>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </>\n  );\n}\nexport default Example;"}},dependencies:{react:{version:"17.0.2"}},identifier:"hook-demo"}}}},WOyY:function(e,n,t){"use strict";t.r(n);var r=t("q1tI"),a=t.n(r),l=t("dEAq"),c=t("H1Ra");t("JjdP");n["default"]=e=>(a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"react-\u7b97\u6cd5\u4e4b\u5806\u6392\u5e8f"},a.a.createElement(l["AnchorLink"],{to:"#react-\u7b97\u6cd5\u4e4b\u5806\u6392\u5e8f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"React \u7b97\u6cd5\u4e4b\u5806\u6392\u5e8f"),a.a.createElement("h2",{id:"\u6982\u5ff5"},a.a.createElement(l["AnchorLink"],{to:"#\u6982\u5ff5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u6982\u5ff5"),a.a.createElement("p",null,"\u4e8c\u53c9\u5806\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5806, \u4e8c\u53c9\u5806\u662f",a.a.createElement(l["Link"],{to:"https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91#%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91"},"\u5b8c\u5168\u4e8c\u53c9\u6811"),"\u6216\u8005\u8fd1\u4f3c\u5b8c\u5168\u4e8c\u53c9\u6811."),a.a.createElement("p",null,"\u5806\u6392\u5e8f\u662f\u5229\u7528\u4e8c\u53c9\u5806\u7684\u7279\u6027, \u5bf9\u6839\u8282\u70b9(\u6700\u5927\u6216\u6700\u5c0f)\u8fdb\u884c\u5faa\u73af\u63d0\u53d6, \u4ece\u800c\u8fbe\u5230\u6392\u5e8f\u76ee\u7684(\u5806\u6392\u5e8f\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u9009\u62e9\u6392\u5e8f), \u65f6\u95f4\u590d\u6742\u5ea6\u4e3a",a.a.createElement("code",null,"O(nlog n)"),"."),a.a.createElement("h2",{id:"\u7279\u6027"},a.a.createElement(l["AnchorLink"],{to:"#\u7279\u6027","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u7279\u6027"),a.a.createElement("ol",null,a.a.createElement("li",null,"\u7236\u8282\u70b9\u7684\u503c>=\u5b50\u8282\u70b9\u7684\u503c(\u6700\u5927\u5806), \u7236\u8282\u70b9\u7684\u503c<=\u5b50\u8282\u70b9\u7684\u503c(\u6700\u5c0f\u5806). \u6bcf\u4e2a\u8282\u70b9\u7684\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u90fd\u662f\u4e00\u4e2a\u4e8c\u53c9\u5806."),a.a.createElement("li",null,"\u5047\u8bbe\u4e00\u4e2a\u6570\u7ec4",a.a.createElement("code",null,"[k0, k1, k2, ...kn]"),"\u4e0b\u6807\u4ece 0 \u5f00\u59cb. \u5219",a.a.createElement("code",null,"ki <= k2i+1,ki <= k2i+2")," \u6216\u8005 ",a.a.createElement("code",null,"ki >= k2i+1,ki >= k2i+2")," (i = 0,1,2,3 .. n/2)")),a.a.createElement("h2",{id:"\u57fa\u672c\u4f7f\u7528"},a.a.createElement(l["AnchorLink"],{to:"#\u57fa\u672c\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u4f7f\u7528"),a.a.createElement("p",null,"\u5047\u8bbe\u73b0\u5728\u6709\u4e00\u4e2a\u4e71\u5e8f\u6570\u7ec4, [5,8,0,10,4,6,1], \u73b0\u5728\u5c06\u5176\u6784\u9020\u6210\u4e00\u4e2a\u6700\u5c0f\u5806"),a.a.createElement("ol",null,a.a.createElement("li",null,"\u6784\u9020\u4e8c\u53c9\u5806",a.a.createElement("ul",null,a.a.createElement("li",null,"\u9700\u8981\u4ece\u6700\u540e\u4e00\u4e2a\u975e\u53f6\u5b50\u8282\u70b9\u5f00\u59cb, \u5411\u4e0b\u8c03\u6574\u5806\u7ed3\u6784")))),a.a.createElement("p",null,a.a.createElement("img",{src:t("IcGc"),alt:""})),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u63d2\u5165\u8282\u70b9, \u91cd\u65b0\u5411\u4e0a\u8c03\u6574\u5806(",a.a.createElement("code",null,"sift-up"),")",a.a.createElement("ul",null,a.a.createElement("li",null,"\u5c06\u65b0\u5143\u7d20\u63d2\u5165\u5230\u6570\u7ec4\u672b\u5c3e\u4e4b\u540e, \u8981\u91cd\u65b0\u8c03\u6574\u6570\u7ec4\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u4efb\u7136\u662f\u6700\u5c0f(\u6216\u6700\u5927)\u5806.")))),a.a.createElement("p",null,a.a.createElement("img",{src:t("kpkb"),alt:""})),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u63d0\u53d6\u6216\u5220\u9664\u6839\u8282\u70b9(\u9876\u7aef\u8282\u70b9), \u91cd\u65b0\u5411\u4e0b\u8c03\u6574\u5806(",a.a.createElement("code",null,"sift-down"),")",a.a.createElement("ul",null,a.a.createElement("li",null,"\u5bf9\u4e8e\u6700\u5927\u5806, \u63d0\u53d6\u7684\u662f\u6700\u5927\u503c. \u5bf9\u4e8e\u6700\u5c0f\u5806, \u63d0\u53d6\u7684\u662f\u6700\u5c0f\u503c."),a.a.createElement("li",null,"\u9876\u70b9\u88ab\u63d0\u53d6\u4e4b\u540e, \u8981\u91cd\u65b0\u8c03\u6574\u6570\u7ec4\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u4efb\u7136\u662f\u6700\u5c0f(\u6216\u6700\u5927)\u5806.")))),a.a.createElement("p",null,a.a.createElement("img",{src:t("o7qC"),alt:""})),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u6392\u5e8f\u8fc7\u7a0b")),a.a.createElement("p",null,"\u5229\u7528\u4e8c\u53c9\u5806\u7684\u7279\u6027, \u6392\u5e8f\u5c31\u662f\u5faa\u73af\u63d0\u53d6\u6839\u8282\u70b9\u7684\u8fc7\u7a0b. \u5faa\u73af\u6267\u884c\u6b65\u9aa4 3, \u76f4\u5230\u5c06\u6240\u6709\u7684\u8282\u70b9\u90fd\u63d0\u53d6\u5b8c\u6210, \u88ab\u63d0\u53d6\u7684\u8282\u70b9\u6784\u6210\u7684\u6570\u7ec4\u5c31\u662f\u4e00\u4e2a\u6709\u5e8f\u6570\u7ec4."),a.a.createElement("p",null,"\u6ce8\u610f:"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5982\u9700\u5347\u5e8f\u6392\u5e8f, \u5e94\u8be5\u6784\u9020\u6700\u5927\u5806. \u56e0\u4e3a\u6700\u5927\u7684\u5143\u7d20\u6700\u5148\u88ab\u63d0\u53d6\u51fa\u6765, \u88ab\u653e\u7f6e\u5230\u4e86\u6570\u7ec4\u7684\u6700\u540e, \u6700\u7ec8\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e3a\u6700\u5927\u5143\u7d20."),a.a.createElement("li",null,"\u5982\u9700\u964d\u5e8f\u6392\u5e8f, \u5e94\u8be5\u6784\u9020\u6700\u5c0f\u5806. \u56e0\u4e3a\u6700\u5c0f\u7684\u5143\u7d20\u6700\u5148\u88ab\u63d0\u53d6\u51fa\u6765, \u88ab\u653e\u7f6e\u5230\u4e86\u6570\u7ec4\u7684\u6700\u540e, \u6700\u7ec8\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e3a\u6700\u5c0f\u5143\u7d20."),a.a.createElement("li",null,"\u5806\u6392\u5e8f\u662f\u4e00\u79cd\u4e0d\u7a33\u5b9a\u6392\u5e8f(\u5bf9\u4e8e\u76f8\u540c\u5927\u5c0f\u7684\u5143\u7d20, \u5728\u6392\u5e8f\u4e4b\u540e\u6709\u53ef\u80fd\u548c\u6392\u5e8f\u524d\u7684\u5148\u540e\u6b21\u5e8f\u88ab\u6253\u4e71).")),a.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},a.a.createElement(l["AnchorLink"],{to:"#\u4ee3\u7801\u6f14\u793a","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),a.a.createElement("p",null,"\u5c06\u4e71\u5e8f\u6570\u7ec4",a.a.createElement("code",null,"[5,8,0,10,4,6,1]"),"\u964d\u5e8f\u6392\u5217"),a.a.createElement("p",null,"\u6b65\u9aa4:"),a.a.createElement("ol",null,a.a.createElement("li",null,"\u6784\u9020\u6700\u5c0f\u5806"),a.a.createElement("li",null,"\u5faa\u73af\u63d0\u53d6\u6839\u8282\u70b9, \u76f4\u5230\u5168\u90e8\u63d0\u53d6\u5b8c")),a.a.createElement(c["a"],{code:"const minHeapSort = arr => {\n  // 1. \u6784\u9020\u6700\u5c0f\u5806\n  buildMinHeap(arr);\n  // 2. \u5faa\u73af\u63d0\u53d6\u6839\u8282\u70b9arr[0], \u76f4\u5230\u5168\u90e8\u63d0\u53d6\u5b8c\n  for (let i = arr.length - 1; i > 0; i--) {\n    let tmp = arr[0];\n    arr[0] = arr[i];\n    arr[i] = tmp;\n    siftDown(arr, 0, i - 1);\n  }\n};\n\n// \u628a\u6574\u4e2a\u6570\u7ec4\u6784\u9020\u6210\u6700\u5c0f\u5806\nconst buildMinHeap = arr => {\n  if(arr.length < 2) {\n    return arr;\n  }\n  const startIndex = Math.floor(arr.length / 2 - 1);\n  for (let i = startIndex; i >= 0; i--) {\n    siftDown(arr, i, arr.length - 1);\n  }\n};\n\n// \u4ecestartIndex\u7d22\u5f15\u5f00\u59cb, \u5411\u4e0b\u8c03\u6574\u6700\u5c0f\u5806\nconst siftDown = (arr, startIndex, endIndex) => {\n  const leftChildIndx = 2 * startIndex + 1;\n  const rightChildIndx = 2 * startIndex + 2;\n  let swapIndex = startIndex;\n  let tmpNode = arr[startIndex];\n  if (leftChildIndx <= endIndex) {\n    if (arr[leftChildIndx] < tmpNode) {\n      // \u5f85\u5b9a\u662f\u5426\u4ea4\u6362, \u56e0\u4e3aright\u5b50\u8282\u70b9\u6709\u53ef\u80fd\u66f4\u5c0f\n      tmpNode = arr[leftChildIndx];\n      swapIndex = leftChildIndx;\n    }\n  }\n  if (rightChildIndx <= endIndex) {\n    if (arr[rightChildIndx] < tmpNode) {\n      // \u6bd4left\u8282\u70b9\u66f4\u5c0f, \u66ff\u6362swapIndex\n      tmpNode = arr[rightChildIndx];\n      swapIndex = rightChildIndx;\n    }\n  }\n  if (swapIndex !== startIndex) {\n    // 1.\u4ea4\u6362\u8282\u70b9\n    arr[swapIndex] = arr[startIndex];\n    arr[startIndex] = tmpNode;\n\n    // 2. \u9012\u5f52\u8c03\u7528, \u7ee7\u7eed\u5411\u4e0b\u8c03\u6574\n    siftDown(arr, swapIndex, endIndex);\n  }\n};",lang:"js"}),a.a.createElement("p",null,"\u6d4b\u8bd5:"),a.a.createElement(c["a"],{code:"var arr1 = [5, 8, 0, 10, 4, 6, 1];\nminHeapSort(arr1);\nconsole.log(arr1); // [10, 8, 6, 5,4, 1, 0]\n\nvar arr2 = [5];\nminHeapSort(arr2);\nconsole.log(arr2); // [ 5 ]\n\nvar arr3 = [5, 1];\nminHeapSort(arr3);\nconsole.log(arr3); //[ 5, 1 ]",lang:"js"}),a.a.createElement("h2",{id:"react-\u5f53\u4e2d\u7684\u4f7f\u7528\u573a\u666f"},a.a.createElement(l["AnchorLink"],{to:"#react-\u5f53\u4e2d\u7684\u4f7f\u7528\u573a\u666f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"React \u5f53\u4e2d\u7684\u4f7f\u7528\u573a\u666f"),a.a.createElement("p",null,"\u5bf9\u4e8e\u4e8c\u53c9\u5806\u7684\u5e94\u7528\u662f\u5728",a.a.createElement("code",null,"scheduler"),"\u5305\u4e2d, \u6709 2 \u4e2a\u6570\u7ec4",a.a.createElement(l["Link"],{to:"https://github.com/facebook/react/blob/v17.0.2/packages/scheduler/src/Scheduler.js#L61-L63"},a.a.createElement("code",null,"taskQueue"),"\u548c",a.a.createElement("code",null,"timerQueue")),", \u5b83\u4eec\u90fd\u662f\u4ee5",a.a.createElement("code",null,"\u6700\u5c0f\u5806"),"\u7684\u5f62\u5f0f\u8fdb\u884c\u5b58\u50a8, \u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u4ee5",a.a.createElement("code",null,"O(1)"),"\u7684\u65f6\u95f4\u590d\u6742\u5ea6, \u53d6\u5230\u6570\u7ec4\u9876\u7aef\u7684\u5bf9\u8c61(\u4f18\u5148\u7ea7\u6700\u9ad8\u7684 task)."),a.a.createElement("p",null,"\u5177\u4f53\u7684\u8c03\u7528\u8fc7\u7a0b\u88ab\u5c01\u88c5\u5230\u4e86",a.a.createElement(l["Link"],{to:"https://github.com/facebook/react/blob/v17.0.2/packages/scheduler/src/SchedulerMinHeap.js#L41-L87"},a.a.createElement("code",null,"SchedulerMinHeap.js")),", \u5176\u4e2d\u6709 2 \u4e2a\u51fd\u6570",a.a.createElement("code",null,"siftUp"),",",a.a.createElement("code",null,"siftDown"),"\u5206\u522b\u5bf9\u5e94\u5411\u4e0a\u8c03\u6574\u548c\u5411\u4e0b\u8c03\u6574."),a.a.createElement(c["a"],{code:"type Heap = Array<Node>;\ntype Node = {|\n  id: number,\n  sortIndex: number,\n|};\n\n// \u6dfb\u52a0\u65b0\u8282\u70b9, \u6dfb\u52a0\u4e4b\u540e, \u9700\u8981\u8c03\u7528`siftUp`\u51fd\u6570\u5411\u4e0a\u8c03\u6574\u5806.\nexport function push(heap: Heap, node: Node): void {\n  const index = heap.length;\n  heap.push(node);\n  siftUp(heap, node, index);\n}\n\n// \u67e5\u770b\u5806\u7684\u9876\u70b9, \u4e5f\u5c31\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684`task`\u6216`timer`\nexport function peek(heap: Heap): Node | null {\n  const first = heap[0];\n  return first === undefined ? null : first;\n}\n\n// \u5c06\u5806\u7684\u9876\u70b9\u63d0\u53d6\u51fa\u6765, \u5e76\u5220\u9664\u9876\u70b9\u4e4b\u540e, \u9700\u8981\u8c03\u7528`siftDown`\u51fd\u6570\u5411\u4e0b\u8c03\u6574\u5806.\nexport function pop(heap: Heap): Node | null {\n  const first = heap[0];\n  if (first !== undefined) {\n    const last = heap.pop();\n    if (last !== first) {\n      heap[0] = last;\n      siftDown(heap, last, 0);\n    }\n    return first;\n  } else {\n    return null;\n  }\n}\n\n// \u5f53\u63d2\u5165\u8282\u70b9\u4e4b\u540e, \u9700\u8981\u5411\u4e0a\u8c03\u6574\u5806\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u662f\u4e00\u4e2a\u6700\u5c0f\u5806.\nfunction siftUp(heap, node, i) {\n  let index = i;\n  while (true) {\n    const parentIndex = (index - 1) >>> 1;\n    const parent = heap[parentIndex];\n    if (parent !== undefined && compare(parent, node) > 0) {\n      // The parent is larger. Swap positions.\n      heap[parentIndex] = node;\n      heap[index] = parent;\n      index = parentIndex;\n    } else {\n      // The parent is smaller. Exit.\n      return;\n    }\n  }\n}\n\n// \u5411\u4e0b\u8c03\u6574\u5806\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u662f\u4e00\u4e2a\u6700\u5c0f\u5806.\nfunction siftDown(heap, node, i) {\n  let index = i;\n  const length = heap.length;\n  while (index < length) {\n    const leftIndex = (index + 1) * 2 - 1;\n    const left = heap[leftIndex];\n    const rightIndex = leftIndex + 1;\n    const right = heap[rightIndex];\n\n    // If the left or right node is smaller, swap with the smaller of those.\n    if (left !== undefined && compare(left, node) < 0) {\n      if (right !== undefined && compare(right, left) < 0) {\n        heap[index] = right;\n        heap[rightIndex] = node;\n        index = rightIndex;\n      } else {\n        heap[index] = left;\n        heap[leftIndex] = node;\n        index = leftIndex;\n      }\n    } else if (right !== undefined && compare(right, node) < 0) {\n      heap[index] = right;\n      heap[rightIndex] = node;\n      index = rightIndex;\n    } else {\n      // Neither child is smaller. Exit.\n      return;\n    }\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"peek"),"\u51fd\u6570: \u67e5\u770b\u5806\u7684\u9876\u70b9, \u4e5f\u5c31\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684",a.a.createElement("code",null,"task"),"\u6216",a.a.createElement("code",null,"timer"),"."),a.a.createElement("li",null,a.a.createElement("code",null,"pop"),"\u51fd\u6570: \u5c06\u5806\u7684\u9876\u70b9\u63d0\u53d6\u51fa\u6765, \u5e76\u5220\u9664\u9876\u70b9\u4e4b\u540e, \u9700\u8981\u8c03\u7528",a.a.createElement("code",null,"siftDown"),"\u51fd\u6570\u5411\u4e0b\u8c03\u6574\u5806."),a.a.createElement("li",null,a.a.createElement("code",null,"push"),"\u51fd\u6570: \u6dfb\u52a0\u65b0\u8282\u70b9, \u6dfb\u52a0\u4e4b\u540e, \u9700\u8981\u8c03\u7528",a.a.createElement("code",null,"siftUp"),"\u51fd\u6570\u5411\u4e0a\u8c03\u6574\u5806."),a.a.createElement("li",null,a.a.createElement("code",null,"siftDown"),"\u51fd\u6570: \u5411\u4e0b\u8c03\u6574\u5806\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u662f\u4e00\u4e2a\u6700\u5c0f\u5806."),a.a.createElement("li",null,a.a.createElement("code",null,"siftUp"),"\u51fd\u6570: \u5f53\u63d2\u5165\u8282\u70b9\u4e4b\u540e, \u9700\u8981\u5411\u4e0a\u8c03\u6574\u5806\u7ed3\u6784, \u4fdd\u8bc1\u6570\u7ec4\u662f\u4e00\u4e2a\u6700\u5c0f\u5806.")),a.a.createElement("h2",{id:"\u603b\u7ed3"},a.a.createElement(l["AnchorLink"],{to:"#\u603b\u7ed3","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u603b\u7ed3"),a.a.createElement("p",null,"\u672c\u8282\u4ecb\u7ecd\u4e86",a.a.createElement("code",null,"\u5806\u6392\u5e8f"),"\u7684\u57fa\u672c\u4f7f\u7528, \u5e76\u8bf4\u660e\u4e86",a.a.createElement("code",null,"\u5806\u6392\u5e8f"),"\u5728",a.a.createElement("code",null,"react"),"\u6e90\u7801\u4e2d\u7684\u5e94\u7528. \u5728\u9605\u8bfb",a.a.createElement("code",null,"scheduler"),"\u5305\u7684\u6e90\u7801\u65f6, \u4f1a\u66f4\u52a0\u6e05\u6670\u7684\u7406\u89e3\u4f5c\u8005\u7684\u601d\u8def."))))},Zs1V:function(e){e.exports=JSON.parse("{}")},kpkb:function(e,n,t){e.exports=t.p+"static/minheap-insert.3b25766c.png"},o7qC:function(e,n,t){e.exports=t.p+"static/minheap-remove.7ea00a86.png"}}]);